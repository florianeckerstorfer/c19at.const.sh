---
layout: base
pagination:
  data: daily
  size: 1
  alias: record
permalink: "daily/{{ record.date|formatDate('YYYY-MM-DD') }}/index.html"
---
{% from "daily-macros.njk" import dailyTable, totalTable, dailyTopIncidence, totalTopCases %}

{% set prevRecord = pagination.pages[pagination.pageNumber - 1] %}

<div id="daily" class="daily">
  <div class="daily__title">
    <h1><span>Covid19</span> in Ã–sterreich</h1>
  </div>
  <div class="daily__date">
    <div class="weekday">{{ record.date | formatDate('dddd') }},</div>
    <div class="date">{{ record.date | formatDate('MMMM DD, YYYY') }}</div>
  </div>
  {%- if pagination.pageNumber > 0 %}
  <nav class="daily__date-nav daily__date-nav--previous">
      <a href="{{ pagination.href.previous }}">Previous day</a>
      <div class="date">{{ pagination.page.previous.date | formatDate('MMM DD') }}</div>
  </nav>
  {% endif -%}
  {%- if pagination.page.next %}
  <nav class="daily__date-nav daily__date-nav--next">
      <a href="{{ pagination.href.next }}">Next day</a>
      <div class="date">{{ pagination.page.next.date | formatDate('MMM DD') }}</div>
  </nav>
  {% endif -%}
  
  {{ dailyTable(record.austria, prevRecord.austria) }}
  
  {{ totalTable(record.austria) }}
  
  <div class="daily__province-nav">
    <ul>
      {% for province in record.provinces %}
        <li><a href="#province-daily-{{ province.province | slug }}">{{ province.province }}</a></li>
      {% endfor %}
    </ul>
  </div>
  
  {{ dailyTopIncidence(record) }}
  {{ totalTopCases(record) }}
  
  {% for province in record.provinces %}
    {{ dailyTable(province, prevRecord.provinces[loop.index0]) }}
    {{ totalTable(province, prevRecord.provinces[loop.index0]) }}
  {% endfor %}
  
</div>

<pre class="recorddump">
{{ record | formatJSON }}
</pre>

